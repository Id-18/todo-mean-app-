<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>To-Do List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center flex-wrap gap-2 mb-3">
            <h2 class="mb-0">Tasks</h2>
            <div class="d-flex gap-2">
                <a href="add.html" class="btn btn-warning text-dark" style="background-color: #fdd835; border: none;">‚ûï
                    NEW TASK</a>
                <button onclick="loadTasks()" class="btn btn-warning text-dark"
                    style="background-color: #fdd835; border: none;">üîÑ REFRESH</button>
            </div>
        </div>

        <div class="d-flex justify-content-end justify-content-sm-end justify-content-md-end mb-3">
            <input type="text" id="searchInput" class="form-control" style="width: 100%; max-width: 250px;"
                placeholder="Search" onkeyup="searchTasks()" />
        </div>



        <div class="table-responsive">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Assigned To</th>
                        <th>Status</th>
                        <th onclick="sortBy('dueDate')" style="cursor:pointer">Due Date ‚¨ç</th>
                        <th onclick="sortBy('priority')" style="cursor:pointer">Priority ‚¨ç</th>
                        <th>Comments</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="taskBody"></tbody>
            </table>
        </div>

        <!-- Pagination container -->
        <div id="paginationContainer" class="mt-3 text-center"></div>
    </div>

   <!-- ‚úÖ Edit Modal -->
<div class="modal fade" id="editModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content p-3">
      <div class="modal-header">
        <h5 class="modal-title">Edit Task</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <form id="editForm">
        <div class="modal-body row g-3">
          <input type="hidden" id="editId" />

          <div class="col-md-6">
            <label class="form-label">Assigned To <span class="text-danger">*</span></label>
            <input id="editAssignedTo" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">Status <span class="text-danger">*</span></label>
            <select id="editStatus" class="form-select" required>
              <option>Not Started</option>
              <option>In Progress</option>
              <option>Completed</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label">Due Date <span class="text-danger">*</span></label>
            <input type="date" id="editDueDate" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">Priority <span class="text-danger">*</span></label>
            <select id="editPriority" class="form-select" required>
              <option>Low</option>
              <option>Normal</option>
              <option>High</option>
            </select>
          </div>
          <div class="col-12">
            <label class="form-label">Comments</label>
            <textarea id="editComments" class="form-control"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-success">Save</button>
        </div>
      </form>
    </div>
  </div>
</div>


    <!-- ‚úÖ Delete Modal -->
    <div class="modal fade" id="deleteModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content p-3">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title">Delete</h5>
                </div>
                <div class="modal-body">
                    Do you want to delete task <strong id="deleteTaskName"></strong>?
                </div>
                <div class="modal-footer">
                    <button class="btn btn-light" data-bs-dismiss="modal">No</button>
                    <button class="btn btn-danger" onclick="confirmDelete()">Yes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ‚úÖ Toast -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1050">
        <div id="successToast" class="toast bg-success text-white" role="alert" data-bs-delay="2000">
            <div class="toast-body" id="toastMsg">Task saved</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>

    <!-- ‚úÖ Footer similar to reference UI -->
    <div class="container mt-3">
        <div
            class="d-flex justify-content-between align-items-center flex-wrap gap-3 px-2 py-2 bg-light border rounded">
            <div>
                <select class="form-select form-select-sm" style="width: 80px;" onchange="changePageSize(this.value)">
                    <option value="20" selected>20</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                </select>
            </div>
            <div>
                <div class="btn-group" role="group" id="paginationButtons">
                    <button class="btn btn-sm btn-outline-secondary" onclick="goToPage('first')">‚á§ First</button>
                    <button class="btn btn-sm btn-outline-secondary" onclick="goToPage('prev')">‚Äπ Prev</button>
                    <button class="btn btn-sm btn-outline-secondary active" disabled>1</button>
                    <button class="btn btn-sm btn-outline-secondary" onclick="goToPage('next')">Next ‚Ä∫</button>
                    <button class="btn btn-sm btn-outline-secondary" onclick="goToPage('last')">Last ‚á•</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>

</body>

</html>